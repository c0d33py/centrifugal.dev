"use strict";(self.webpackChunkcentrifugal_dev=self.webpackChunkcentrifugal_dev||[]).push([[7092],{3905:(e,t,i)=>{i.d(t,{Zo:()=>c,kt:()=>d});var o=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(e,t){if(null==e)return{};var i,o,n=function(e,t){if(null==e)return{};var i,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)i=a[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)i=a[o],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=o.createContext({}),u=function(e){var t=o.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):s(s({},t),e)),i},c=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var i=e.components,n=e.mdxType,a=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),h=u(i),d=n,f=h["".concat(l,".").concat(d)]||h[d]||p[d]||a;return i?o.createElement(f,s(s({ref:t},c),{},{components:i})):o.createElement(f,s({ref:t},c))}));function d(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=i.length,s=new Array(a);s[0]=h;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:n,s[1]=r;for(var u=2;u<a;u++)s[u]=i[u];return o.createElement.apply(null,s)}return o.createElement.apply(null,i)}h.displayName="MDXCreateElement"},1554:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>u});var o=i(7462),n=(i(7294),i(3905));const a={title:"Discovering Centrifugo PRO: push notifications API",tags:["centrifugo","pro","push notifications"],description:"We start talking more about recently launched Centrifugo PRO. In this post, we share details about Centrifugo PRO push notification API implementation - how it works and what makes it special and practical.",author:"Alexander Emelin",authorTitle:"Founder of Centrifugal Labs",authorImageURL:"/img/alexander_emelin.jpeg",image:"/img/blog_push_notifications_cover.jpg",hide_table_of_contents:!1},s=void 0,r={permalink:"/blog/2023/10/29/discovering-centrifugo-pro-push-notifications",editUrl:"https://github.com/centrifugal/centrifugal.dev/edit/main/blog/2023-10-29-discovering-centrifugo-pro-push-notifications.md",source:"@site/blog/2023-10-29-discovering-centrifugo-pro-push-notifications.md",title:"Discovering Centrifugo PRO: push notifications API",description:"We start talking more about recently launched Centrifugo PRO. In this post, we share details about Centrifugo PRO push notification API implementation - how it works and what makes it special and practical.",date:"2023-10-29T00:00:00.000Z",formattedDate:"October 29, 2023",tags:[{label:"centrifugo",permalink:"/blog/tags/centrifugo"},{label:"pro",permalink:"/blog/tags/pro"},{label:"push notifications",permalink:"/blog/tags/push-notifications"}],readingTime:14.34,hasTruncateMarker:!0,authors:[{name:"Alexander Emelin",title:"Founder of Centrifugal Labs",imageURL:"/img/alexander_emelin.jpeg"}],frontMatter:{title:"Discovering Centrifugo PRO: push notifications API",tags:["centrifugo","pro","push notifications"],description:"We start talking more about recently launched Centrifugo PRO. In this post, we share details about Centrifugo PRO push notification API implementation - how it works and what makes it special and practical.",author:"Alexander Emelin",authorTitle:"Founder of Centrifugal Labs",authorImageURL:"/img/alexander_emelin.jpeg",image:"/img/blog_push_notifications_cover.jpg",hide_table_of_contents:!1},nextItem:{title:"Using Centrifugo in RabbitX",permalink:"/blog/2023/08/29/using-centrifugo-in-rabbitx"}},l={authorsImageUrls:[void 0]},u=[{value:"Centrifugo PRO goals",id:"centrifugo-pro-goals",level:2},{value:"Why providing push notifications API",id:"why-providing-push-notifications-api",level:2},{value:"Push notifications API like no one provides",id:"push-notifications-api-like-no-one-provides",level:2},{value:"On the user&#39;s side (frontend)",id:"on-the-users-side-frontend",level:4},{value:"On the server (backend)",id:"on-the-server-backend",level:4},{value:"Frontend decisions",id:"frontend-decisions",level:2},{value:"Server implementation",id:"server-implementation",level:2},{value:"How we keep tokens",id:"how-we-keep-tokens",level:3},{value:"How we send notifications",id:"how-we-send-notifications",level:3},{value:"Secure unified topics",id:"secure-unified-topics",level:3},{value:"Push analytics",id:"push-analytics",level:3},{value:"Push notifications UI",id:"push-notifications-ui",level:3},{value:"Conclusion",id:"conclusion",level:2}],c={toc:u};function p(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,o.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("img",{src:"/img/blog_push_notifications_cover.jpg"}),(0,n.kt)("p",null,"In our ",(0,n.kt)("a",{parentName:"p",href:"/blog/2023/06/29/centrifugo-v5-released"},"v5 release post")," we announced the upcoming launch of Centrifugo PRO. We are happy to say that it was released soon after that and at this point we already have several customers of PRO version."),(0,n.kt)("p",null,"I think it's time to look at the current state of PRO version and finally start talking more about its benefits. In this post, we will talk more about one of the coolest PRO features we have at this point: push notifications API."),(0,n.kt)("h2",{id:"centrifugo-pro-goals"},"Centrifugo PRO goals"),(0,n.kt)("p",null,"When Centrifugo was originally created its main goal was to help introducing real-time messaging features to existing systems, written in traditional frameworks which work on top of worker/thread model. Serving many concurrent connections is a non-trivial task in general, and without native efficient concurrency support it becomes mostly imposible without a shift in the technology stack. Integrating with Centrifugo makes it simple to introduce an efficient real-time layer, while keeping the existing application architecture."),(0,n.kt)("p",null,"As time went Centrifugo got some unique features which now justify its usage even in conjunction with language/frameworks with good concurrency support. Simply using Centrifugo for at most once PUB/SUB may already save a lot of development time. The task which seems trivial at first glance has a lot of challenges on practice: client SDKs with reconnect and channel multiplexing, scalability to many nodes, websocket fallbacks, etc."),(0,n.kt)("p",null,"The combination of useful possibilities made Centrifugo an attractive component for building enterprise-level applications. Let's be honest here - for pet projects developers often prefer writing websocket communications themselves, and Centrifugo may be too heavy and an extra dependency. But in corporate environment the decision which technology to use should take into account a lot of factors, like those we just mentioned above. Using a mature technology is often prefferred than building from scratch and making all the mistakes along the way."),(0,n.kt)("p",null,"With PRO version our goal is to provide even more value for established businesses when switching to Centrifugo. We want to solve tricky cases and simplify them for our customers, we want to step into related areas where we see we can provide a sufficient value."),(0,n.kt)("p",null,"One rule we try to follow for PRO features which extend Centrifugo scope - we are not trying to repeat something existing in other systems, but try to improve it in some way. Solving practical issues we observe and provide a unique position for our customers. This post describes one such example - we will demonstrate our approach to push notifications, which is ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/overview#features"},"one the features")," of Centrifugo PRO."),(0,n.kt)("p",null,"We will describe why our implementation is practical and useful and may serve well for many use cases involving sending push notifications to users. And you'll see how it provides more than simple API by thinking about push notification workflows and providing answers to non-obvious questions. "),(0,n.kt)("h2",{id:"why-providing-push-notifications-api"},"Why providing push notifications API"),(0,n.kt)("img",{src:"/img/push_characters.jpg"}),(0,n.kt)("p",null,"Why providing push notifications API at all? Well, actually real-time messages and push notifivations are so close that many developers hardly see the difference before starting work with both more closely. "),(0,n.kt)("p",null,"I've heard several stories when chat functionality on mobile devices was implemented using only native push notifications \u2013 without using a separate real-time transport like WebSocket while the app is in foreground. While it's not a recommended approach due to push notifications delivery properties, this proves that real-time messages and push notifications are close concepts and sometimes may interchange each other."),(0,n.kt)("p",null,"When developers introduce WebSocket communication in the application they often ask the question \u2013 what should I do next to deliver some important messages to a user currently not actively using an application? WebSockets are great when app is in foreground, but when app goes to the background - the recommended approach is to close WebSocket connection. This is important to save battery, and operational systems force connecting closing after some time anyway."),(0,n.kt)("p",null,"The delivery of important app data is then possible over push notifications. See a ",(0,n.kt)("a",{parentName:"p",href:"https://web.dev/articles/push-notifications-overview"},"good overview of them on web.dev"),"."),(0,n.kt)("p",null,"Previously Centrifugo positioned itself only as a transport layer for real-time messages. In our FAQ we emphasized this fact and suggested to use separate software products to send push notifications."),(0,n.kt)("p",null,"Now with Centrifugo PRO we provide this functionality to our customers. We extended our server API with methods to manage and send push notifications. I promised to tell why we believe our implementation is super cool. Let's dive into the details."),(0,n.kt)("h2",{id:"push-notifications-api-like-no-one-provides"},"Push notifications API like no one provides"),(0,n.kt)("p",null,"Push notifications are super handy, but there\u2019s a bit to do to get them working right. Let's break it down!"),(0,n.kt)("p",null,"On the user's side (frontend):"),(0,n.kt)("p",null,"Ask the user if they\u2019re cool with getting notifications from us.\nWork with the specific system for their device (like Apple\u2019s system for iPhones or Google\u2019s for Android phones) to get a special code for their device.\nSend that code to our server so we know where to send the notifications.\nBe ready to receive notifications and show them to the user in the way they like, whether it\u2019s a banner, an alert, or a message inside the app. Also, make sure we know what to do if they tap on it.\nOn our server (backend):"),(0,n.kt)("p",null,"Keep all those device codes safe in a database.\nEvery now and then, clean up the database to get rid of old or wrong codes. If a user says they don\u2019t want notifications anymore, make sure we stop sending them.\nConnect with the system that sends out the notifications for each type of device and make sure everything goes smoothly. If something goes wrong, try again.\nKeep track of which notifications get delivered and see how many people are actually opening them.\nLook at the data to understand how people are responding to the notifications and use that info to get better at sending them.\nWe think we've found a really special way of doing this that sets us apart. Let\u2019s dive into what makes our approach unique!"),(0,n.kt)("p",null,"Push notifications are super handy, but there\u2019s a bit to do to get them working right. Let's break it down!"),(0,n.kt)("h4",{id:"on-the-users-side-frontend"},"On the user's side (frontend)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Request permission from the user to receive push notifications."),(0,n.kt)("li",{parentName:"ul"},"Integrate with the platform-specific notification service (e.g., Apple Push Notification Service for iOS, Firebase Cloud Messaging for Android) to obtain the device token."),(0,n.kt)("li",{parentName:"ul"},"Send the device token to the server for storage and future use."),(0,n.kt)("li",{parentName:"ul"},"Integrate with the platform-specific notification handler to listen for incoming push notifications"),(0,n.kt)("li",{parentName:"ul"},"Handle incoming push notifications: display the notification content to the user, either as a banner, alert, or in-app message, depending on the user's preferences and the type of notification. Handle user actions on the notification, such as opening the app, dismissing the notification, or taking a specific action related to the notification content.")),(0,n.kt)("h4",{id:"on-the-server-backend"},"On the server (backend)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Store device tokens in a database when received from the client side"),(0,n.kt)("li",{parentName:"ul"},"Regularly clean up the database to remove stale or invalid device tokens. and handle scenarios where a device token becomes invalid or is revoked by the user, ensuring that no further notifications are sent to that device."),(0,n.kt)("li",{parentName:"ul"},"Integrate with platform-specific notification services (e.g., APNS, FCM) to send notifications to devices. Handle errors or failures in sending notifications and implement retry mechanisms if necessary."),(0,n.kt)("li",{parentName:"ul"},"Track the delivery status of each push notification sent out. Monitor the open rates, click-through rates, and other relevant metrics for the notifications."),(0,n.kt)("li",{parentName:"ul"},"Use analytics to understand user behavior in response to notifications and refine the notification strategy based on insights gained.")),(0,n.kt)("p",null,"We believe that we were able to achieve a unique combination of design decisions which allows us to provide push notification support like no one else provides. Let\u2019s dive into what makes our approach special!"),(0,n.kt)("h2",{id:"frontend-decisions"},"Frontend decisions"),(0,n.kt)("p",null,"When providing push notification feature, other solutions like Pusher or Ably also provide their own SDKs for managing notifications on the client side."),(0,n.kt)("p",null,"What we've learned though during Centrifugo life cycle is that creating and maintaining client SDKs for various environments (iOS, Android, Web, Flutter) is one of the hardest parts of Centrifugo project."),(0,n.kt)("p",null,"So the decision here was simple and natural: Centrifugo PRO does not introduce any client SDKs for push noifications on the client side."),(0,n.kt)("p",null,"When integrating with Centrifugo you can simply use native SDKs provided by each platform. We bypass the complexities of SDK development and concentrate on the server side improvements. With this decision we are not introducing any limitations to the client side."),(0,n.kt)("p",null,"You get:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Wealthy documentation and community support. Platforms like APNs provide comprehensive documentation, tutorials, and best practices, making the integration process smoother."),(0,n.kt)("li",{parentName:"ul"},"Stability and reliability: native SDKs are rigorously tested and frequently updated by the platform providers. This ensures that they are stable, reliable, and free from critical bugs."),(0,n.kt)("li",{parentName:"ul"},"Access to the latest features. As platform providers roll out new features or enhancements, native SDKs are usually the first to get updated. This ensures that your application can leverage the latest functionalities without waiting for SDKs to catch up.")),(0,n.kt)("p",null,"It was not possible with our real-time SDKs since WebSocket communication is very low-level and Centrifugo's main goal was to provide some high-level features on top of it. But with push notifications going forward with no custom SDK seems like a choice beneficial for everyone."),(0,n.kt)("h2",{id:"server-implementation"},"Server implementation"),(0,n.kt)("p",null,"The main work we did was for a server side. Let's go through the entire workflow of push notification delivery and describe what Centrifigo PRO provides for each step."),(0,n.kt)("h3",{id:"how-we-keep-tokens"},"How we keep tokens"),(0,n.kt)("p",null,"Let's suppose you got the permission from the user and received the device push token. At this point you must save it to database for sending notifications later using this token. Centrifugo PRO provides API called ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/push_notifications#device_register"},"device_register")," to do exactly this."),(0,n.kt)("p",null,"At this point, we use PostgreSQL for storing tokens \u2013 which is a very popular SQL database. Probably we will add more storage backend options in the future."),(0,n.kt)("p",null,"When calling Centrifugo ",(0,n.kt)("inlineCode",{parentName:"p"},"device_register")," API you can provide user ID, list of topics to subscribe, platform from which the user came from (ios, android, web), also push notifications provider. To deliver push notifications to devices Centrifugo PRO integrates with the following push notification providers:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"fcm - ",(0,n.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/cloud-messaging"},"Firebase Cloud Messaging (FCM)")," ",(0,n.kt)("i",{className:"bi bi-android2",style:{color:"yellowgreen"}})," ",(0,n.kt)("i",{className:"bi bi-apple",style:{color:"cornflowerblue"}})," ",(0,n.kt)("i",{className:"bi bi-globe",style:{color:"orange"}})),(0,n.kt)("li",{parentName:"ul"},"hms - ",(0,n.kt)("a",{parentName:"li",href:"https://developer.huawei.com/consumer/en/hms/huawei-pushkit/"},"Huawei Messaging Service (HMS) Push Kit")," ",(0,n.kt)("i",{className:"bi bi-android2",style:{color:"yellowgreen"}})," ",(0,n.kt)("i",{className:"bi bi-apple",style:{color:"cornflowerblue"}})," ",(0,n.kt)("i",{className:"bi bi-globe",style:{color:"orange"}})),(0,n.kt)("li",{parentName:"ul"},"apns - ",(0,n.kt)("a",{parentName:"li",href:"https://developer.apple.com/documentation/usernotifications"},"Apple Push Notification service (APNs) ")," ",(0,n.kt)("i",{className:"bi bi-apple",style:{color:"cornflowerblue"}}))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Push",src:i(5085).Z,width:"3172",height:"1260"})),(0,n.kt)("p",null,"So we basically cover all most popular platforms out of the box."),(0,n.kt)("p",null,"After registering device token Centrifugo PRO returns ",(0,n.kt)("inlineCode",{parentName:"p"},"device_id")," to you. This device must be stored on client device. While frontend has this ",(0,n.kt)("inlineCode",{parentName:"p"},"device_id")," it can update device push token information from time to time to maintain it actual (just calling ",(0,n.kt)("inlineCode",{parentName:"p"},"device_register")," again but with ",(0,n.kt)("inlineCode",{parentName:"p"},"device_id")," attached)."),(0,n.kt)("p",null,"After saving token your backend can start sending push notifications to devices."),(0,n.kt)("h3",{id:"how-we-send-notifications"},"How we send notifications"),(0,n.kt)("p",null,"To send push notifications we provide another API called ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/push_notifications#send_push_notification"},"send_push_notification"),". You need to provide some filter in the API request to tell Centrifugo who you want to send notification. You also need to provide push notification payload. For example, using Centrifugo HTTP API:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST http://localhost:8000/api/send_push_notification \\\n-H "Authorization: apikey <KEY>" \\\n-d @- <<\'EOF\'\n\n{\n    "recipient": {\n        "filter": {\n            "topics": ["test"]\n        }\n    },\n    "notification": {\n        "fcm": {\n            "message": {\n                "notification": {"title": "Hello", "body": "How are you?"}\n            }\n        }\n    }\n}\nEOF\n')),(0,n.kt)("p",null,"Here is another important decision we made: Centrifigo PRO allows you to specify raw JSON objects for each provider we support. I.e. we do not wrap push notifications API for FCM, APNS, HMS - we give you a way to construct the entire push notification message."),(0,n.kt)("p",null,"This means Centrifugo push API supports all the fields of push notification payloads out-of-the-box. For all push providers. You can just use documentation of FCM, APNs \u2013 and send the constructed requests to Centrifugo. There is no need for us to update Centrifugo PRO in any way to support new fields added by providers to push APIs."),(0,n.kt)("p",null,"When you send push notification with filter and push payload for each provider you want \u2013 it's queued by Centrifugo. We use Redis Streams for queuing and optionally queue based on PostgreSQL (less efficient, but still robust enough)."),(0,n.kt)("p",null,"The fact nottification is being queued means a very fast response time \u2013 so you can integrate with Centrifugo from within hot paths of your application backend. You may additionally provide push expiration time and unique push identifier. If you have not provided unique identifier - Centrifugo generates one for you and returns in response. The unique identifier may be later used to track push status in Centrifugo PRO push notification analytics."),(0,n.kt)("p",null,"We then have efficient workers which process queue with minimal latency and send push notifications using batch requests for each provider - i.e. we do this in the most effective way possible. We did the benchmark of our worker system with FCM \u2013 and we can ",(0,n.kt)("strong",{parentName:"p"},"easily send several millions of pushes in minute"),"."),(0,n.kt)("p",null,"Another decision we made - Centrifugo PRO supports sending push notifications to raw list of tokens. This makes it possible for our customers to use their own token storage. For example, in some case such storage could already exist before you started using Centrifugo, or you need a different storage/schema. In such cases, you can use Centrifugo just as an effective push sender server."),(0,n.kt)("p",null,"Finally, Centrifugo PRO supports sending delayed push notification - to queue push for a later delivery, so for example you can send notification based on user time zone and let Centrifugo PRO send it when needed. Or you may send slightly delayed push notification together with real-time message and if client provided an ack to real-time message - ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/push_notifications#cancel_push"},"cancel push notification"),"."),(0,n.kt)("h3",{id:"secure-unified-topics"},"Secure unified topics"),(0,n.kt)("p",null,"FCM and HMS have a built-in way of sending notification to large groups of devices over topics mechanism (the same for HMS). One problem with native FCM or HMS topics though is that device can subscribe to any topic from the frontend side without any permission check. In today's world this is usually not desired. So Centrifugo PRO re-implements FCM and HMS topics by introducing an additional API to manage device subscriptions to topics."),(0,n.kt)("p",null,"Centrifugo PRO device topic subscriptions also ",(0,n.kt)("strong",{parentName:"p"},"add a way to introduce the missing topic semantics for APNs"),"."),(0,n.kt)("p",null,"Centrifugo PRO additionally provides an API to create persistent bindings of user to notification topics. See ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/push_notifications#user_topic_list"},"user_topic_list")," and ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/push_notifications#user_topic_update"},"user_topic_update"),". As soon as user registers a device \u2013 it will be automatically subscribed to its own topics pre-created over the API. As soon as user logs out from the app and you update user ID of the device - user topics binded to the device automatically removed/switched."),(0,n.kt)("p",null,"This design solves one of the issues with push notifications (with FCM in particular) \u2013 if two different users use the same device it's becoming problematic to unsubscribe the device from large number of topics upon logout. Also, as soon as user to topic binding added (using ",(0,n.kt)("inlineCode",{parentName:"p"},"user_topic_update")," API) \u2013 it will be synchronized across all user active devices. You can still manage such persistent subscriptions on the application backend side if you prefer and provide the full list inside ",(0,n.kt)("inlineCode",{parentName:"p"},"device_register")," call - Centrifugo PRO API gives you freedom here."),(0,n.kt)("h3",{id:"push-analytics"},"Push analytics"),(0,n.kt)("p",null,"Centrifugo PRO offers the ability to inspect sent push notifications using ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/analytics"},"ClickHouse analytics"),". Push providers may also offer their own analytics, such as FCM, which provides insight into push notification delivery. Centrifugo PRO also offers a way to analyze push notification delivery and interaction using the ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/push_notifications#update_push_status"},"update_push_status")," API. This API allows updating ClickHouse table and add status for each push sent:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"delivered")),(0,n.kt)("li",{parentName:"ul"},"or ",(0,n.kt)("inlineCode",{parentName:"li"},"interacted"))),(0,n.kt)("p",null,"It's then possible to make queries to ClickHouse and build various analytical reports. Or use ClickHouse for real-time graphs - for example, from Grafana."),(0,n.kt)("h3",{id:"push-notifications-ui"},"Push notifications UI"),(0,n.kt)("p",null,"Finally, Centrifugo PRO provides a simple web UI for inspecting registered devices. It can simplify development, provides a way to look at live data and send simple push notification alert to users or topics."),(0,n.kt)("p",null,(0,n.kt)("img",{src:i(4088).Z,width:"2728",height:"1094"})),(0,n.kt)("h2",{id:"conclusion"},"Conclusion"),(0,n.kt)("p",null,"We really believe in our push notifications and will be working hard to make them even better. The API we already have serves well to cover common push notification delivery use cases, but we won't stop here. Some areas for improvements are: functionality of built-in push notifications web UI, extending push analytics by providing user friendly UI for the insights about push delivery and engagement. The good thing is that we already have a ground for making this."),(0,n.kt)("p",null,"Take a look at the documentation of ",(0,n.kt)("a",{parentName:"p",href:"/docs/pro/push_notifications"},"Centrifugo PRO push notification API")," for more formal details and some things not mentioned here. Probably at the time you are reading this we already added something great to the API."),(0,n.kt)("p",null,"Even though Centrifugo PRO is pretty new, it already has a lot of helpful features, and we have plans to add even more. You can see what\u2019s coming up next on our ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/orgs/centrifugal/projects/3/views/1"},"Centrifugo PRO planned features board"),". We're excited to share more blog posts like this one in the future."))}p.isMDXComponent=!0},5085:(e,t,i)=>{i.d(t,{Z:()=>o});const o=i.p+"assets/images/push_notifications-b625f9f23cee5e6bfed9b18bb15631b1.png"},4088:(e,t,i)=>{i.d(t,{Z:()=>o});const o=i.p+"assets/images/push_ui-01989161306e71d882a064b605395dcb.png"}}]);