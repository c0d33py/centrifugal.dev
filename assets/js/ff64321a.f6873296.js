"use strict";(self.webpackChunkcentrifugal_dev=self.webpackChunkcentrifugal_dev||[]).push([[2735],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(n),g=i,d=m["".concat(l,".").concat(g)]||m[g]||u[g]||o;return n?r.createElement(d,a(a({ref:t},p),{},{components:n})):r.createElement(d,a({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8677:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=n(7462),i=(n(7294),n(3905));const o={title:"Improving Centrifugo Redis Engine throughput and allocation efficiency with Rueidis Go library",tags:["centrifugo","redis","go"],description:"In this post we share some details about Centrifugo Redis Engine implementation and its recent performance improvements with the help of Rueidis Go library",author:"Alexander Emelin",authorTitle:"Author of Centrifugo",authorImageURL:"https://github.com/FZambia.png",image:"/img/redis_cover.png",hide_table_of_contents:!1},a=void 0,s={permalink:"/blog/2022/12/20/improving-redis-engine-performance",editUrl:"https://github.com/centrifugal/centrifugal.dev/edit/main/blog/2022-12-20-improving-redis-engine-performance.md",source:"@site/blog/2022-12-20-improving-redis-engine-performance.md",title:"Improving Centrifugo Redis Engine throughput and allocation efficiency with Rueidis Go library",description:"In this post we share some details about Centrifugo Redis Engine implementation and its recent performance improvements with the help of Rueidis Go library",date:"2022-12-20T00:00:00.000Z",formattedDate:"December 20, 2022",tags:[{label:"centrifugo",permalink:"/blog/tags/centrifugo"},{label:"redis",permalink:"/blog/tags/redis"},{label:"go",permalink:"/blog/tags/go"}],readingTime:28.995,hasTruncateMarker:!0,authors:[{name:"Alexander Emelin",title:"Author of Centrifugo",imageURL:"https://github.com/FZambia.png"}],frontMatter:{title:"Improving Centrifugo Redis Engine throughput and allocation efficiency with Rueidis Go library",tags:["centrifugo","redis","go"],description:"In this post we share some details about Centrifugo Redis Engine implementation and its recent performance improvements with the help of Rueidis Go library",author:"Alexander Emelin",authorTitle:"Author of Centrifugo",authorImageURL:"https://github.com/FZambia.png",image:"/img/redis_cover.png",hide_table_of_contents:!1},prevItem:{title:"Setting up Keycloak SSO authentication flow and connecting to Centrifugo WebSocket",permalink:"/blog/2023/03/31/keycloak-sso-centrifugo"},nextItem:{title:"101 ways to subscribe user on a personal channel in Centrifugo",permalink:"/blog/2022/07/29/101-way-to-subscribe"}},l={authorsImageUrls:[void 0]},c=[],p={toc:c};function u(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,r.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Centrifugo_Redis_Engine_Improvements",src:n(5443).Z,width:"1200",height:"369"})),(0,i.kt)("p",null,"The main objective of Centrifugo is to manage persistent client connections established over various real-time transports (including WebSocket, HTTP-Streaming, SSE, WebTransport, etc \u2013 see ",(0,i.kt)("a",{parentName:"p",href:"https://centrifugal.dev/docs/transports/overview"},"here"),") and offer an API for publishing data towards established connections. Clients subscribe to channels, hence Centrifugo implements PUB/SUB mechanics to transmit published data to all online channel subscribers."),(0,i.kt)("p",null,"Centrifugo employs ",(0,i.kt)("a",{parentName:"p",href:"https://redis.com/"},"Redis")," as its primary scalability option \u2013 so that it's possible to distribute client connections amongst numerous Centrifugo nodes without worrying about channel subscribers connected to separate nodes. Redis is incredibly mature, simple, and fast in-memory storage. Due to various built-in data structures and PUB/SUB support Redis is a perfect fit to be both Centrifugo ",(0,i.kt)("inlineCode",{parentName:"p"},"Broker")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"PresenceManager")," (we will describe what's this shortly)."),(0,i.kt)("p",null,"In Centrifugo v4.1.0 we introduced an updated implementation of our Redis Engine (",(0,i.kt)("inlineCode",{parentName:"p"},"Engine")," in Centrifugo == ",(0,i.kt)("inlineCode",{parentName:"p"},"Broker")," + ",(0,i.kt)("inlineCode",{parentName:"p"},"PresenceManager"),") which provides sufficient performance improvements to our users. This post discusses the factors that prompted us to update Redis Engine implementation and provides some insight into the results we managed to achieve. We'll examine a few well-known Go libraries for Redis communication and contrast them against Centrifugo tasks."))}u.isMDXComponent=!0},5443:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/redis_cover-94601b44109b725188bcf75df0fb520c.png"}}]);