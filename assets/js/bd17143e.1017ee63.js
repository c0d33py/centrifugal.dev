"use strict";(self.webpackChunkcentrifugal_dev=self.webpackChunkcentrifugal_dev||[]).push([[674],{3905:(e,t,o)=>{o.d(t,{Zo:()=>h,kt:()=>g});var n=o(67294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var u=n.createContext({}),l=function(e){var t=n.useContext(u),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},h=function(e){var t=l(e.components);return n.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),d=l(o),g=r,p=d["".concat(u,".").concat(g)]||d[g]||c[g]||i;return o?n.createElement(p,a(a({ref:t},h),{},{components:o})):n.createElement(p,a({ref:t},h))}));function g(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=o.length,a=new Array(i);a[0]=d;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var l=2;l<i;l++)a[l]=o[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},46820:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>u,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var n=o(87462),r=(o(67294),o(3905));const i={title:"Using Centrifugo in RabbitX",tags:["centrifugo","interview","usecase"],description:"In this post, the engineering team of RabbitX platform shares details about the usage of Centrifugo in their product.",author:"Centrifugal + RabbitX",authorTitle:"The interview with RabbitX engineering team",authorImageURL:"https://d1muf25xaso8hp.cloudfront.net/https%3A%2F%2F3918ead037b1d3dc3ed05287664aeaed.cdn.bubble.io%2Ff1655453377613x154516784582627620%2FLogo%2520big.png?w=128&h=&auto=compress&dpr=1&fit=max",image:"/img/rabbitx_thumb.jpg",hide_table_of_contents:!1},a=void 0,s={permalink:"/blog/2023/08/29/using-centrifugo-in-rabbitx",editUrl:"https://github.com/centrifugal/centrifugal.dev/edit/main/blog/2023-08-29-using-centrifugo-in-rabbitx.md",source:"@site/blog/2023-08-29-using-centrifugo-in-rabbitx.md",title:"Using Centrifugo in RabbitX",description:"In this post, the engineering team of RabbitX platform shares details about the usage of Centrifugo in their product.",date:"2023-08-29T00:00:00.000Z",formattedDate:"August 29, 2023",tags:[{label:"centrifugo",permalink:"/blog/tags/centrifugo"},{label:"interview",permalink:"/blog/tags/interview"},{label:"usecase",permalink:"/blog/tags/usecase"}],readingTime:3.655,hasTruncateMarker:!0,authors:[{name:"Centrifugal + RabbitX",title:"The interview with RabbitX engineering team",imageURL:"https://d1muf25xaso8hp.cloudfront.net/https%3A%2F%2F3918ead037b1d3dc3ed05287664aeaed.cdn.bubble.io%2Ff1655453377613x154516784582627620%2FLogo%2520big.png?w=128&h=&auto=compress&dpr=1&fit=max"}],frontMatter:{title:"Using Centrifugo in RabbitX",tags:["centrifugo","interview","usecase"],description:"In this post, the engineering team of RabbitX platform shares details about the usage of Centrifugo in their product.",author:"Centrifugal + RabbitX",authorTitle:"The interview with RabbitX engineering team",authorImageURL:"https://d1muf25xaso8hp.cloudfront.net/https%3A%2F%2F3918ead037b1d3dc3ed05287664aeaed.cdn.bubble.io%2Ff1655453377613x154516784582627620%2FLogo%2520big.png?w=128&h=&auto=compress&dpr=1&fit=max",image:"/img/rabbitx_thumb.jpg",hide_table_of_contents:!1},prevItem:{title:"Discovering Centrifugo PRO: push notifications API",permalink:"/blog/2023/10/29/discovering-centrifugo-pro-push-notifications"},nextItem:{title:"Asynchronous message streaming to Centrifugo with Benthos",permalink:"/blog/2023/08/19/asynchronous-message-streaming-to-centrifugo-with-benthos"}},u={authorsImageUrls:[void 0]},l=[{value:"Q Hey team - thanks for your desire to share your Centrifugo use case. First of all, could you provide some information about RabbitX - what is it?",id:"q-hey-team---thanks-for-your-desire-to-share-your-centrifugo-use-case-first-of-all-could-you-provide-some-information-about-rabbitx---what-is-it",level:4},{value:"Q Great! What is the goal of Centrifugo in your project? Which real-time features you have?",id:"q-great-what-is-the-goal-of-centrifugo-in-your-project-which-real-time-features-you-have",level:4},{value:"Q We know that you are using Centrifugo Tarantool engine - could you explain why and how it works in your case?",id:"q-we-know-that-you-are-using-centrifugo-tarantool-engine---could-you-explain-why-and-how-it-works-in-your-case",level:4},{value:"Q Looking at RabbitX terminal app we see quite modern UI - could you share more details about it too?",id:"q-looking-at-rabbitx-terminal-app-we-see-quite-modern-ui---could-you-share-more-details-about-it-too",level:4},{value:"Q So you are nine months in production at this point. Can you share some real world numbers related to your Centrifugo setup?",id:"q-so-you-are-nine-months-in-production-at-this-point-can-you-share-some-real-world-numbers-related-to-your-centrifugo-setup",level:4},{value:"Q Anything else you want to share with readers of Centrifugal blog?",id:"q-anything-else-you-want-to-share-with-readers-of-centrifugal-blog",level:4}],h={toc:l};function c(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("img",{src:"/img/rabbitx.png"}),(0,r.kt)("p",null,"This post introduces a new format in Centrifugal blog \u2013 interview with a Centrifugo user! Let's dive into an exciting chat with the engineering team of ",(0,r.kt)("a",{parentName:"p",href:"https://landing.rabbitx.io/"},"RabbitX platform"),", a global permissionless perpetuals exchange powered on Starknet. We will discover how Centrifugo helped RabbitX to build a broker platform with current trading volume of 25 million USD daily! \ud83d\ude80\ud83c\udf89"),(0,r.kt)("h4",{id:"q-hey-team---thanks-for-your-desire-to-share-your-centrifugo-use-case-first-of-all-could-you-provide-some-information-about-rabbitx---what-is-it"},"[Q]"," Hey team - thanks for your desire to share your Centrifugo use case. First of all, could you provide some information about RabbitX - what is it?"),(0,r.kt)("p",null,"RabbitX is a global permissionless perpetuals exchange built on Starknet. RabbitX is building the most secure and liquid global derivatives network, giving you 24/7 access to global markets anywhere in the world, with 20x leverage. In its core there is an orderbook - where traders match against market makers, which require to support high throughput and low latency tech stack."),(0,r.kt)("p",null,"The technologies that we are using:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Tarantool as in-memory database and business logic server"),(0,r.kt)("li",{parentName:"ul"},"Centrifugo as our major websocket server"),(0,r.kt)("li",{parentName:"ul"},"Different stark tech to support decentralized settlement")),(0,r.kt)("h4",{id:"q-great-what-is-the-goal-of-centrifugo-in-your-project-which-real-time-features-you-have"},"[Q]"," Great! What is the goal of Centrifugo in your project? Which real-time features you have?"),(0,r.kt)("p",null,"Almost all the information users see in our terminal is streamed over Centrifugo. We use it for financial order books, candlestick chart updates, and stat number updates. We can also send real-time personal user notifications via Centrifugo. Instead of all the words, here is a short recording of our terminal trading BTC:"),(0,r.kt)("video",{width:"100%",loop:!0,autoPlay:"autoplay",muted:!0,controls:"",src:"/img/rabbitx.mp4?v=1"}),(0,r.kt)("h4",{id:"q-we-know-that-you-are-using-centrifugo-tarantool-engine---could-you-explain-why-and-how-it-works-in-your-case"},"[Q]"," We know that you are using Centrifugo Tarantool engine - could you explain why and how it works in your case?"),(0,r.kt)("p",null,"Well, that's an interesting thing. We heavily use Tarantool in our system. It grants us immense flexibility, performance, and the power to craft whatever we envision. It ensures the atomicity essential for trading match-making."),(0,r.kt)("p",null,"When we were in search of a WebSocket real-time bus for messages, we were pleasantly surprised to discover that Centrifugo integrates with Tarantool. In our scenario, this allowed us to bypass additional network round-trips, as we can stream data directly from Tarantool to Centrifugo channels. Reducing latency is paramount for financial instruments."),(0,r.kt)("p",null,"Furthermore, I can mention that over our nine months in production, we didn't encounter any issues with Centrifugo \u2013 it performed flawlessly!"),(0,r.kt)("p",null,"Regarding authentication, we employ Centrifugo's JWT authentication and subscribe proxy. Thus, subscriptions are authorized on our specialized service written in Go. We're also actively using Centrifugo possibility to send initial channel data in the subscribe proxy response."),(0,r.kt)("p",null,"One challenge we overcame was bridging the gap between the subscription's initial request and the continuous message stream in the order book component. To address this, we employed our own sequence numbers in events, coupled with Centrifugo's channel history \u2013 this allowed us to deal with missed events when needed. Actually the gaps in event stream are rare in practice and our workaround not needed most of the time, but now we're confident our users never experience this issue."),(0,r.kt)("h4",{id:"q-looking-at-rabbitx-terminal-app-we-see-quite-modern-ui---could-you-share-more-details-about-it-too"},"[Q]"," Looking at RabbitX terminal app we see quite modern UI - could you share more details about it too?"),(0,r.kt)("p",null,"Our frontend is built on top of React in combination with ",(0,r.kt)("a",{parentName:"p",href:"https://www.tradingview.com/chart/"},"TradingView Supercharts"),". And of course we are using ",(0,r.kt)("inlineCode",{parentName:"p"},"centrifuge-js")," SDK for establishing connections with Centrifugo."),(0,r.kt)("h4",{id:"q-so-you-are-nine-months-in-production-at-this-point-can-you-share-some-real-world-numbers-related-to-your-centrifugo-setup"},"[Q]"," So you are nine months in production at this point. Can you share some real world numbers related to your Centrifugo setup?"),(0,r.kt)("p",null,"At this point we can have up to a thousand active concurrent traders and send more than 60 messages per second towards one client in peak hours. All the load is served with a single Centrifugo instance (and we have one standby instance)."),(0,r.kt)("h4",{id:"q-anything-else-you-want-to-share-with-readers-of-centrifugal-blog"},"[Q]"," Anything else you want to share with readers of Centrifugal blog?"),(0,r.kt)("p",null,"When we designed the system the main goal was to have a homogeneous tech zoo, with a small amount of different technologies, to keep the number of failure points as small as possible. Tarantool is a sort of technology that really allows us to achieve this, we were able to add different decentralized mechanics to our system because of that. It\u2019s not only an in-memory database, but in reality the app server as well."),(0,r.kt)("p",null,"In our case, the fact Centrifugo supports Tarantool broker was a big discovery \u2013 the integration went smoothly, and everything has been working great since then."))}c.isMDXComponent=!0}}]);